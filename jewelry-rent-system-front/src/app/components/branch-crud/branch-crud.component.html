<div class="container">

  <div class="row">
    <div class="col s8">
      <h3>
        <a class="btn-floating waves-effect waves-light" (click)="addBranch()">
          <i class="material-icons small">add</i>
        </a>
        Branch list
      </h3>
    </div>
  </div>

  <div class="row">
    <h5 class="col s5">Address</h5>
    <h5 class="col s5">Phone number</h5>
  </div>

  <div class="row" *ngFor="let branch of branches">
    <ng-template [ngTemplateOutlet]="loadTemplate(branch)" [ngTemplateOutletContext]="{ $implicit: branch}">
    </ng-template>
  </div>

  <crud-message [crudStatus]="operationStatus"></crud-message>

  <ng-template #readOnlyTemplate let-branch>
    <div class="col s5">{{branch.address}}</div>
    <div class="col s5">{{branch.telephone}}</div>
    <div class="col s1">
      <a class="btn btn-floating waves-effect waves-light" (click)="editBranch(branch)">
          <i class="material-icons small">edit</i>
      </a>
    </div>
    <div class="col s1">
        <a class="btn btn-floating waves-effect waves-light" (click)="deleteBranch(branch)">
            <i class="material-icons small">delete</i>
        </a>
    </div>
  </ng-template>

  <ng-template #editTemplate>
    <div class="col s5">
      <input type="text" [(ngModel)]="editedBranch.address" />
    </div>
    <div class="col s5">
      <input type="tel" [(ngModel)]="editedBranch.telephone" placeholder="(XX)-XXX-XX-XX"/>
    </div>
    <div class="col s1">
        <a class="btn btn-floating waves-effect waves-light" (click)="saveBranch()">
            <i class="material-icons small">save</i>
        </a>
    </div>
    <div class="col s1">
        <a class="btn btn-floating waves-effect waves-light" (click)="cancel()">
            <i class="material-icons small">cancel</i>
        </a>
    </div>
  </ng-template>